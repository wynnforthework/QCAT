# QCAT 部署环境变量配置示例
# 复制此文件为 .env.staging 或 .env.production 并根据实际情况修改

# =============================================================================
# 数据库配置
# =============================================================================
POSTGRES_PASSWORD=qcat_secure_password_2024
POSTGRES_USER=qcat
POSTGRES_DB=qcat

# =============================================================================
# Redis配置
# =============================================================================
REDIS_PASSWORD=redis_secure_password_2024

# =============================================================================
# JWT配置
# =============================================================================
JWT_SECRET=your_super_secure_jwt_secret_key_2024

# =============================================================================
# 交易所API配置
# =============================================================================
API_KEY=your_binance_api_key
API_SECRET=your_binance_api_secret

# =============================================================================
# 监控配置
# =============================================================================
GRAFANA_PASSWORD=admin_secure_password_2024

# =============================================================================
# 服务器配置 (传统部署方式)
# =============================================================================

# Staging环境服务器配置
STAGING_HOST=staging.qcat.local
STAGING_USER=qcat
STAGING_SSH_KEY=~/.ssh/qcat_staging_key

# Production环境服务器配置
PRODUCTION_HOST=production.qcat.local
PRODUCTION_USER=qcat
PRODUCTION_SSH_KEY=~/.ssh/qcat_production_key

# =============================================================================
# Docker Registry配置
# =============================================================================
REGISTRY=ghcr.io
GITHUB_REPOSITORY=your-org/qcat

# =============================================================================
# 通知配置 (可选)
# =============================================================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN

# =============================================================================
# SSL证书配置 (生产环境)
# =============================================================================
SSL_CERT_PATH=/etc/ssl/certs/qcat.crt
SSL_KEY_PATH=/etc/ssl/private/qcat.key

# =============================================================================
# 备份配置
# =============================================================================
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/opt/qcat/backups

# =============================================================================
# 性能配置
# =============================================================================
MAX_CONNECTIONS=1000
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1024

# =============================================================================
# 安全配置
# =============================================================================
ALLOWED_ORIGINS=https://qcat.local,https://staging.qcat.local
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=info
LOG_PATH=/var/log/qcat
LOG_RETENTION_DAYS=7

# =============================================================================
# 健康检查配置
# =============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# 部署配置
# =============================================================================
DEPLOY_TIMEOUT=300
ROLLBACK_ENABLED=true
AUTO_SCALING_ENABLED=false
MIN_REPLICAS=1
MAX_REPLICAS=3

# =============================================================================
# 缓存配置
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300

# =============================================================================
# 数据库连接池配置
# =============================================================================
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300

# =============================================================================
# Redis连接池配置
# =============================================================================
REDIS_POOL_SIZE=20
REDIS_MIN_IDLE_CONNS=5
REDIS_MAX_RETRIES=3

# =============================================================================
# 风控配置
# =============================================================================
MAX_POSITION_SIZE=100000
MAX_LEVERAGE=10
MAX_DRAWDOWN=0.1
CIRCUIT_BREAKER_THRESHOLD=0.15

# =============================================================================
# 策略配置
# =============================================================================
DEFAULT_STRATEGY_TIMEOUT=300
MAX_CONCURRENT_STRATEGIES=10
STRATEGY_MEMORY_LIMIT=512

# =============================================================================
# 优化器配置
# =============================================================================
OPTIMIZER_TIMEOUT=1800
MAX_OPTIMIZATION_ITERATIONS=1000
OPTIMIZATION_CONCURRENCY=4

# =============================================================================
# 回测配置
# =============================================================================
BACKTEST_TIMEOUT=3600
MAX_BACKTEST_CONCURRENCY=2
BACKTEST_DATA_RETENTION_DAYS=90

# =============================================================================
# 市场数据配置
# =============================================================================
MARKET_DATA_CACHE_TTL=60
MARKET_DATA_BATCH_SIZE=1000
MARKET_DATA_UPDATE_INTERVAL=1

# =============================================================================
# 订单管理配置
# =============================================================================
ORDER_TIMEOUT=30
MAX_PENDING_ORDERS=100
ORDER_RETRY_ATTEMPTS=3

# =============================================================================
# 风险管理配置
# =============================================================================
RISK_CHECK_INTERVAL=5
MARGIN_CALL_THRESHOLD=1.1
LIQUIDATION_THRESHOLD=1.0

# =============================================================================
# 监控告警配置
# =============================================================================
ALERT_EMAIL=admin@qcat.local
ALERT_SMS_ENABLED=false
ALERT_WEBHOOK_ENABLED=true

# =============================================================================
# 审计配置
# =============================================================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_LEVEL=info

# =============================================================================
# 备份配置
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# =============================================================================
# 维护配置
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_WINDOW=02:00-04:00
MAINTENANCE_NOTIFICATION_HOURS=24
